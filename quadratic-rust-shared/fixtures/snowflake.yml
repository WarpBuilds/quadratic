when:
  path: /session/v1/login-request
  method: POST
  body: '{"data":{"CLIENT_APP_ID":"Go","CLIENT_APP_VERSION":"1.6.22","SVN_REVISION":"","ACCOUNT_NAME":"TEST","LOGIN_NAME":"TEST","SESSION_PARAMETERS":{"CLIENT_VALIDATE_DEFAULT_PARAMETERS":true},"CLIENT_ENVIRONMENT":{"APPLICATION":"Rust","OS":"darwin","OS_VERSION":"gc-arm64","OCSP_MODE":"FAIL_OPEN"},"PASSWORD":"TEST"}}'
then:
  status: 200
  header:
  - name: date
    value: Tue, 17 Sep 2024 16:14:44 GMT
  - name: content-type
    value: application/json
  - name: cache-control
    value: no-cache, no-store, no-transform
  - name: vary
    value: Accept-Encoding, User-Agent
  - name: content-length
    value: '3846'
  - name: server
    value: SF-LB
  - name: x-envoy-attempt-count
    value: '1'
  - name: x-envoy-upstream-service-time
    value: '181'
  - name: x-content-type-options
    value: nosniff
  - name: x-xss-protection
    value: 1; mode=block
  - name: expect-ct
    value: enforce, max-age=3600
  - name: strict-transport-security
    value: max-age=31536000
  - name: x-snowflake-fe-instance
    value: envoy-ingress-prod3-q774b
  - name: x-snowflake-fe-config
    value: 652bbbb0_1725443349_abdc31dd_1726589586733_0_0
  - name: x-frame-options
    value: deny
  body: |-
    {
      "data" : {
      "masterToken" : "ver:3-hint:3386314761-ETMsDgAAAZIAw8zAABRBRVMvQ0JDL1BLQ1M1UGFkZGluZwEAABAAEA6QKR+laYwarvGmwoz10SEAAACgi15ORiQVLu9KyE6WuQTfGgUk62zf6z4RdWVqvX5BQPlyEpvMs8ujoFGaT8j7IgK5n2gpy9TWNQ44nn5/ST9PhvJLJfUNnmrwqluSAj78NCFh6/8b6PV0r2vWhR2bgy7N5vydFzisHrU+2/xKWw6ueGMdZIlZes/evMgYWx6OVLQ1zCr+8xyE2uHvGyIADh4lmd78db48Xj5ZSHqgGymYNQAUzB8h2fcVg48Wwu0GM788sD//444=",
      "token" : "ver:3-hint:3386314761-ETMsDgAAAZIAw8z8ABRBRVMvQ0JDL1BLQ1M1UGFkZGluZwEAABAAEGLK4YY+8uGi9vTISHI/NokAAABwPSYsK4LS8TZ+ZnNAJaLK7EgX+/bO23sRv0EhmobiNU6WqkxnxHlQc2g3vuPOSMw+QZODT8ZNSYw+RJj3O1iZToMLgAgJy6VHZBgOyTqy5BrigdYoQy8rkTOm0YOvfZXe2gBDVnolaNAluby2/almZgAUqdLsShOpFPjCeHy+BPemg77RWbM=",
      "validityInSeconds" : 3600,
      "masterValidityInSeconds" : 14400,
      "displayUserName" : "TEST",
      "serverVersion" : "8.34.0",
      "firstLogin" : true,
      "remMeToken" : null,
      "remMeValidityInSeconds" : 0,
      "healthCheckInterval" : 45,
      "newClientForUpgrade" : null,
      "sessionId" : 3386369429,
      "parameters" : [ {
        "name" : "TIMESTAMP_OUTPUT_FORMAT",
        "value" : "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM"
      }, {
        "name" : "CLIENT_PREFETCH_THREADS",
        "value" : 4
      }, {
        "name" : "TIME_OUTPUT_FORMAT",
        "value" : "HH24:MI:SS"
      }, {
        "name" : "CLIENT_RESULT_CHUNK_SIZE",
        "value" : 160
      }, {
        "name" : "TIMESTAMP_TZ_OUTPUT_FORMAT",
        "value" : ""
      }, {
        "name" : "CLIENT_SESSION_KEEP_ALIVE",
        "value" : false
      }, {
        "name" : "QUERY_CONTEXT_CACHE_SIZE",
        "value" : 5
      }, {
        "name" : "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED",
        "value" : false
      }, {
        "name" : "CLIENT_METADATA_USE_SESSION_DATABASE",
        "value" : false
      }, {
        "name" : "ENABLE_STAGE_S3_PRIVATELINK_FOR_US_EAST_1",
        "value" : false
      }, {
        "name" : "TIMESTAMP_NTZ_OUTPUT_FORMAT",
        "value" : "YYYY-MM-DD HH24:MI:SS.FF3"
      }, {
        "name" : "CLIENT_RESULT_PREFETCH_THREADS",
        "value" : 1
      }, {
        "name" : "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX",
        "value" : false
      }, {
        "name" : "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ",
        "value" : true
      }, {
        "name" : "CLIENT_MEMORY_LIMIT",
        "value" : 1536
      }, {
        "name" : "CLIENT_TIMESTAMP_TYPE_MAPPING",
        "value" : "TIMESTAMP_LTZ"
      }, {
        "name" : "TIMEZONE",
        "value" : "America/Los_Angeles"
      }, {
        "name" : "CLIENT_RESULT_PREFETCH_SLOTS",
        "value" : 2
      }, {
        "name" : "CLIENT_TELEMETRY_ENABLED",
        "value" : true
      }, {
        "name" : "CLIENT_DISABLE_INCIDENTS",
        "value" : true
      }, {
        "name" : "CLIENT_USE_V1_QUERY_API",
        "value" : true
      }, {
        "name" : "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE",
        "value" : false
      }, {
        "name" : "CSV_TIMESTAMP_FORMAT",
        "value" : ""
      }, {
        "name" : "BINARY_OUTPUT_FORMAT",
        "value" : "HEX"
      }, {
        "name" : "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS",
        "value" : false
      }, {
        "name" : "CLIENT_TELEMETRY_SESSIONLESS_ENABLED",
        "value" : true
      }, {
        "name" : "DATE_OUTPUT_FORMAT",
        "value" : "YYYY-MM-DD"
      }, {
        "name" : "CLIENT_CONSENT_CACHE_ID_TOKEN",
        "value" : false
      }, {
        "name" : "CLIENT_FORCE_PROTECT_ID_TOKEN",
        "value" : true
      }, {
        "name" : "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD",
        "value" : 65280
      }, {
        "name" : "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
        "value" : 3600
      }, {
        "name" : "CLIENT_SESSION_CLONE",
        "value" : false
      }, {
        "name" : "AUTOCOMMIT",
        "value" : true
      }, {
        "name" : "TIMESTAMP_LTZ_OUTPUT_FORMAT",
        "value" : ""
      } ],
      "sessionInfo" : {
        "databaseName" : "ALL_NATIVE_DATA_TYPES",
        "schemaName" : null,
        "warehouseName" : "COMPUTE_WH",
        "roleName" : "ACCOUNTADMIN"
      },
      "idToken" : null,
      "idTokenValidityInSeconds" : 0,
      "responseData" : null,
      "mfaToken" : null,
      "mfaTokenValidityInSeconds" : 0
    },
      "code" : null,
      "message" : null,
      "success" : true
    }
---
when:
  path: /queries/v1/query-request
  method: POST
  body: '{"sqlText":"select * from all_native_data_types.public.all_native_data_types;","asyncExec":false,"sequenceId":1,"isInternal":false}'
then:
  status: 200
  header:
  - name: date
    value: Tue, 17 Sep 2024 16:14:45 GMT
  - name: cache-control
    value: no-cache, no-store
  - name: content-type
    value: application/json
  - name: vary
    value: Accept-Encoding, User-Agent
  - name: server
    value: SF-LB
  - name: x-envoy-attempt-count
    value: '1'
  - name: x-envoy-upstream-service-time
    value: '194'
  - name: x-content-type-options
    value: nosniff
  - name: x-xss-protection
    value: 1; mode=block
  - name: expect-ct
    value: enforce, max-age=3600
  - name: strict-transport-security
    value: max-age=31536000
  - name: x-snowflake-fe-instance
    value: envoy-ingress-prod3-q774b
  - name: x-snowflake-fe-config
    value: 652bbbb0_1725443349_abdc31dd_1726589586733_0_0
  - name: x-frame-options
    value: deny
  - name: content-encoding
    value: gzip
  - name: transfer-encoding
    value: chunked
  body_base64: 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
